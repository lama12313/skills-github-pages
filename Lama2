function showGroup(role) {
    console.log("Button clicked for role:", role); // Check if button click works
    const userId = localStorage.getItem("groupNumber");
    if (userId) {
        alert(`لقد اخترت بالفعل ومجموعتك هي: ${userId}`);
        return;
    }
    firebase.database().ref("groups/" + role).once("value").then((snapshot) => {
        console.log("Firebase response received"); // Check if Firebase responds
        const counts = snapshot.val() || {};
        const availableGroups = Object.keys(maxCounts[role]).filter(g => counts[g] < maxCounts[role][g]);
        console.log("Available groups:", availableGroups); // Check available groups
        if (availableGroups.length === 0) {
            alert("لا توجد مجموعات متاحة");
            return;
        }
        const groupNumber = availableGroups[Math.floor(Math.random() * availableGroups.length)];
        counts[groupNumber] = (counts[groupNumber] || 0) + 1;
        firebase.database().ref("groups/" + role).set(counts).then(() => {
            console.log("Group number saved:", groupNumber); // Check if save was successful
            localStorage.setItem("groupNumber", groupNumber);
            document.getElementById("result").textContent = `مجموعتك هي: ${groupNumber}`;
            disableButtons();
        }).catch((error) => {
            console.error("Error saving to Firebase:", error); // Log any save errors
        });
    }).catch((error) => {
        console.error("Error retrieving data from Firebase:", error); // Log any read errors
    });
}
